# 什么是路由（转载）

言归正传，本文站在初学者的角度，尽量通俗的讲解什么是路由，它有什么作用。

如下网络拓扑图，交换机0所在的网段为192.168.1.0/24，交换机1所在网段为192.168.2.0/24，且各自有2台主机：

![在这里插入图片描述](https://typora-1301192342.cos.ap-guangzhou.myqcloud.com/img/20200521145724.jpg)

假设192.168.1.10/32的PC0要跟192.168.2.11/32的PC4通信，如何实现？

![在这里插入图片描述](https://typora-1301192342.cos.ap-guangzhou.myqcloud.com/img/20200521145741.jpg)


中间就需要一个路由器的东西。我们知道，PC0发出的数据包的目的地址是跨网段的，也就是需要出网关。网关是数据包出所在网段的出口。网关地址一般是所在网段的前一两个地址，且网关一般都集成在路由器中，称为下一跳。

子网中的每一台主机都需要配置好默认网关，即下一跳：PC0的默认网关为192.168.1.1/32、PC4的默认网关为192.168.2.1/32。这样子PC0要发给PC4的数据包会先抵达路由器的192.168.1.1/32地址的网卡，路由器拿到该数据包后，将其从192.168.2.1/32的网卡发送出去。也就是说，路由器在中间负责中转数据包。

![在这里插入图片描述](https://typora-1301192342.cos.ap-guangzhou.myqcloud.com/img/20200521145750.jpg)

在如上拓扑图中，PC0还是要发数据包给PC4，当数据包抵达路由器1时，路由器1并不知道通往PC4的路径，于是需要在路由器1上的路由表上添加路由规则，使其知道应该将数据包发往192.168.2.0/24网段的地址，需要走往哪一个路由器，这里是路由器2。其他路由器同理，直至到目的主机PC4。

网络畅通的条件是有去有回，所以当数据包从PC4返回PC0时，沿途的所有路由器都需要数据包的转法路径，也就是配置好返回的路由，使其知道数据包发往192.168.1.0/24网段的地址需要走往哪一个路由器。

人为添加的路由称之为静态路由，但当路由器连接的网段太多时不方便配置静态路由，可以让路由器自行学习得到数据包的下一个中转地址，称之为动态路由。
————————————————
版权声明：本文为CSDN博主「mybright_」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/qq_29344757/article/details/82830912