# MySQL的逻辑架构

![image-20200608142555010](https://typora-1301192342.cos.ap-guangzhou.myqcloud.com/img/20200608142556.png)

 **第一层：**不是MySQL所独有的，大多数基于网络的客户端/服务器的工具或者服务都有类似的结构。比如：连接处理、授权认证、安全等。



**第二层：**大多数MySQL的核心服务功能都在这一层，包括**查询解析、分析、优化、缓存以及所有的内置函数**（例如，日期、时间、数学和加密函数），所有跨存储引擎的功能都在这一层实现：存储过程、触发器、视图等。



**第三层：**包含了存储引擎。存储引擎负责MySQL中数据的存储和提取。每个存储引擎都有它的优势和劣势，服务器通过API与存储引擎进行通信。存储引擎API包含几十个底层函数，用于执行诸如“开始一个事务”的操作，但是存储引擎并**不会去解析SQL**（InnoDB是个例外，它会解析外键定义，因为MySQL服务器本身没有实现该功能），不同的存储引擎之间也**不会相互通信**，而只是简单地响应上层服务器的请求。





## 下面是摘自：《MySQL技术内幕：InnoDB存储引擎（第二版）》的MySQL体系结构图

![image-20200615131101276](https://typora-1301192342.cos.ap-guangzhou.myqcloud.com/img/20200615131109.png)

![image-20200615132245163](https://typora-1301192342.cos.ap-guangzhou.myqcloud.com/img/20200615132246.png)



MySQL更详细的体系结构由以下几个部分组成：

* 连接池组件
* 管理服务和工具组件
* SQL接口组件
* 查询分析器组件
* 优化器组件
* 缓冲（Cache）组件
* 插件式存储引擎
* 物理文件

